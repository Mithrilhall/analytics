<div class="main-container">
    <md-sidenav class="md-sidenav-left" md-component-id="left" md-is-locked-open="$mdMedia('gt-md')">

        <md-toolbar>
            <div class="md-toolbar-tools">
                <h2 class="md-toolbar-tools" translate="filter.filterBy"></h2>
            </div>
        </md-toolbar>
        <div ng-controller="LocationCtrl" layout="column">
            <h3>
            <span translate="filter.location"></span>        
            </h3>
            <div ng-show="locationsLoaded" style="background-color: rgb(76,175,80); height: 5px; width: 100%">
            </div>
            <md-progress-linear ng-show="!locationsLoaded" md-mode="indeterminate" class="md-accent">
            </md-progress-linear>

            <script type="text/ng-template" id="locations_renderer.html">                    
                    <md-checkbox ng-checked="exists(folder)" ng-click="toggle(folder)" aria-label="{{folder.name}}">
                            <md-icon class="material-icons md-24">{{locationsIcon(folder)}}</md-icon>
                            <span>{{folder.name}}</span>
                            <span flex></span>
                    </md-checkbox>
                    <md-list ng-repeat="folder in folder.folders"  ng-include="'locations_renderer.html'" style="margin-left:10px" layout="column">
                    </md-list>
            </script>

            <div ng-show="locationsLoaded">
                <md-checkbox ng-checked="exists(locations)" ng-click="toggle(locations)" aria-label="{{locations.name}}">
                                <md-icon class="material-icons md-24">{{locationsIcon(locations)}}</md-icon>
                                <span>{{locations.name}}</span>
                                <span flex></span>
                </md-checkbox>
                <md-list>
                    <md-list ng-repeat="folder in locations.folders"  ng-include="'locations_renderer.html'" style="margin-left:10px" layout="column">
                    </md-list>
                </md-list>
            </div>
        </div>

    </md-sidenav>

    <md-content flex layout="column" class="main-view">
        <article layout="column" layout-gt-sm="row">
            <md-content flex-gt-sm="45" md-whiteframe="2" style="margin: 10px 0" class="dashboard-card container">
                <h3>Maps</h3>
                    <ul>
                        <li>
                            <div class="dashboard-card-icon" style="margin-bottom: 10px; margin-top: 10px">
                                <span style="color: rgb(30, 136, 229);font-weight: bold;">{{maps.folders}}</span>
                            </div>
                            <span class="dashboard-span">
                                <md-icon class="material-icons md-24">map</md-icon>
                                <span> Folders</span>
                            </span>
                        </li>
                        <li>
                            <div class="dashboard-card-icon" style="margin-bottom: 10px; margin-top: 10px">                            
                                <span style="color: rgb(30, 136, 229);font-weight: bold;">{{maps.buildings}}</span>
                            </div>
                            <span class="dashboard-span">
                                <md-icon class="material-icons md-24">business</md-icon>
                                <span> Buildings</span>
                            </span>
                        </li>
                        <li>
                            <div class="dashboard-card-icon" style="margin-bottom: 10px; margin-top: 10px">
                                <span style="color: rgb(30, 136, 229);font-weight: bold;">{{maps.floors}}</span>
                            </div>
                            <span class="dashboard-span">
                                <md-icon class="material-icons md-24">layers</md-icon>
                                <span> Floors</span>
                            </span>
                        </li>
                    </ul>
            </md-content>
            <span flex></span>
            <md-content flex-gt-sm="45" md-whiteframe="2" style="margin: 10px 0" class="dashboard-card container">
                <h3>Aerohive Devices</h3>
                    <ul>
                        <li>
                            <div class="dashboard-card-icon" style="margin-bottom: 10px; margin-top: 10px">
                                <span style="color: rgb(30, 136, 229);font-weight: bold;">{{devices.sensors}}</span>
                            </div>
                            <span class="dashboard-span">
                                <md-icon class="material-icons md-24">track_changes</md-icon>
                                <span> Sensors Mode</span>
                            </span>
                        </li>
                        <li>
                            <div class="dashboard-card-icon" style="margin-bottom: 10px; margin-top: 10px">                            
                                <span style="color: rgb(30, 136, 229);font-weight: bold;">{{devices.connected}}</span>
                            </div>
                            <span class="dashboard-span">
                                <md-icon class="material-icons md-24">link</md-icon>
                                <span> Connected Devices</span>
                            </span>
                        </li>
                        <li>
                            <div class="dashboard-card-icon" style="margin-bottom: 10px; margin-top: 10px">
                                <span style="color: rgb(30, 136, 229);font-weight: bold;">{{devices.devices}}</span>
                            </div>
                            <span class="dashboard-span">
                                <md-icon class="material-icons md-24">network_wifi</md-icon>
                                <span> Aerohive Devices</span>
                            </span>
                        </li>
                    </ul>
            </md-content>
        </article>

        <article md-whiteframe="2" ng-controller="TimelineCtrl" class="container">
            <div class="inside">
                <div class="entity-timeline-loading">
                    <div class="entity-timeline-column entity-timeline-choose" flex layout="row">
                        <md-input-container style="width: 150px">
                            <label>Showing Data for</label>
                            <md-select ng-model="period">
                            <md-option value="day">1 Day</md-option>
                            <md-option value="week">1 Week</md-option>
                            <md-option value="month">1 Month</md-option>
                            <md-option value="year">1 Year</md-option>
                            </md-select>
                        </md-input-container>
                        <span style="min-width: 100px;"></span>
                        <span style="align-self: center">Select Range</span>                        
                        <md-button ng-repeat="duration in durations[period]" class="md-raised" ng-class="isCurrentRange(duration.range)" style="height: 20px;align-self: center;" ng-click="changeRange(period, duration.range)">{{duration.name}}</md-button>                                            
                    </div>
                    <div style="height:180px; min-height: 100px;">
                        <div class="entity-timeline-bar-time" id="timeline">
                    </div>
                </div>
                <div class="entity-timeline-show-time" style="text-align: center; margin-bottom: 5px">
                    <span>Showing data from</span>                    
                    <b>{{date.from | date : 'short'}}</b>
                    <span style="font-weight: normal;"> to </span>
                    <b>{{date.to | date : 'short'}}</b>
            </div>
        </article>


        <section ng-controller="WidgetCtrl">
            <article layout="column" layout-gt-sm="row">
                <md-content flex-gt-sm="45" md-whiteframe="2" style="margin: 10px 0" class="container">
                    <h3 style="height: 25px;">
                        <span>TOP 5 LOCATIONS BY</span>                        
                        <md-input-container class="header-input">                            
                            <md-select ng-model="topLocationsChart" ng-selected="topLocationsChart">
                                <md-option ng-repeat="choice in topLocationsChoices" ng-value="choice.value">{{choice.title}}</md-option>
                            </md-select>
                        </md-input-container>
                    </h3>
                    <div ng-show="!topLocationStarted">
                        <div style="text-align: center; line-height: 250px;"> waiting</div>
                    </div>
                    <div class="entity-loading-widget" ng-show="topLocationStarted && !topLocationLoaded" 
                    style="line-height: 250px;" layout="column" layout-align="space-around">
                        <md-progress-circular md-mode="indeterminate" class="md-accent" style="margin: auto;">
                        </md-progress-circular>
                    </div>
                    <div ng-show="topLocationStarted && topLocationLoaded" layout="row">
                        <div flex="100">
                            <div style="height: 250px;" id="topLocationChart"></div>
                        </div>                        
                    </div>
                </md-content>
                <span flex></span>
                <md-content flex-gt-sm="45" md-whiteframe="2" style="margin: 10px 0" class="container">
                    <h3>STOREFRONT CONVERSION</h3>
                    <div ng-show="!storeFrontStarted">
                        <div style="text-align: center; line-height: 250px;"> waiting</div>
                    </div>
                    <div class="entity-loading-widget" ng-show="storeFrontStarted && !storeFrontLoaded"
                    style="line-height: 250px;" layout="column" layout-align="space-around">
                        <md-progress-circular md-mode="indeterminate" class="md-accent" style="margin: auto;">
                        </md-progress-circular>
                    </div>
                    <div ng-show="storeFrontStarted && storeFrontLoaded" layout="row">
                        <div flex="50">
                            <div style="height: 250px;" id="storeFrontChart"></div>
                        </div>
                        <div flex="50" style="margin-left:10px">
                            <div class="topAppGroupTitle"> Progress Compared to</div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                <span ng-bind-html="getTrendHtml(storeFrontWeek)"></span>  
                                <span class="num-label tagBlockTitle widget-info"> Previous Week</span>
                            </div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                <span ng-bind-html="getTrendHtml(storeFrontMonth)"></span>  
                                <span class="num-label tagBlockTitle widget-info"> Previous Month</span>
                            </div>
                            <div class="usageSection widget-section"  md-whiteframe="4">
                                <span ng-bind-html="getTrendHtml(storeFrontYear)"></span>  
                                <span class="num-label tagBlockTitle widget-info"> Previous Year</span>        
                            </div>
                        </div>
                    </div>
                </md-content>
            </article>
            <article layout="column" layout-gt-sm="row">
                <md-content flex-gt-sm="45" md-whiteframe="2" style="margin: 10px 0" class="container">
                    <h3>PASSERS BY</h3>
                    <div ng-show="!passersByStarted">
                        <div style="text-align: center; line-height: 250px;"> waiting</div>
                    </div>
                    <div class="entity-loading-widget"ng-show="passersByStarted && !passersByLoaded" style="line-height: 250px;" layout="column" layout-align="space-around">
                        <md-progress-circular md-mode="indeterminate" class="md-accent" style="margin: auto;">
                        </md-progress-circular>
                    </div>
                    <div ng-show="passersByStarted && passersByLoaded" layout="row">
                        <div flex="50">
                            <div style="height: 250px;" id="passersByChart"></div>
                        </div>
                        <div flex="50" style="margin-left:10px">
                            <div class="topAppGroupTitle"> Progress Compared to</div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                <span ng-bind-html="getTrendHtml(passersByWeek)"></span>  
                                <span class="num-label tagBlockTitle widget-info"> Previous Week</span>
                            </div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                <span ng-bind-html="getTrendHtml(passersByMonth)"></span>  
                                <span class="num-label tagBlockTitle widget-info"> Previous Month</span>
                            </div>
                            <div class="usageSection widget-section"  md-whiteframe="4">
                                <span ng-bind-html="getTrendHtml(passersByYear)"></span>  
                                <span class="num-label tagBlockTitle widget-info"> Previous Year</span>                         
                            </div>
                        </div>
                    </div>
                </md-content>
                <span flex></span>
                <md-content flex-gt-sm="45" md-whiteframe="2" style="margin: 10px 0" class="container">
                    <h3>ENGAGED</h3>
                    <div ng-show="!engagedStarted">
                        <div style="text-align: center; line-height: 250px;"> waiting</div>
                    </div>
                    <div class="entity-loading-widget" ng-show="engagedStarted && !engagedLoaded" style="line-height: 250px;" layout="column" layout-align="space-around">
                        <md-progress-circular md-mode="indeterminate" class="md-accent" style="margin: auto;">
                        </md-progress-circular>
                    </div>
                    <div ng-show="engagedStarted && engagedLoaded" layout="row">
                        <div flex="50">
                            <div style="height: 250px; width: 100%" id="engagedChart"></div>
                        </div>
                        <div flex="50" style="margin-left:10px">
                            <div class="topAppGroupTitle">Progress Compared to</div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                <span ng-bind-html="getTrendHtml(engagedWeek)"></span>  
                                <span class="num-label tagBlockTitle widget-info"> Previous Week</span>
                            </div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                <span ng-bind-html="getTrendHtml(engagedMonth)"></span>  
                                <span class="num-label tagBlockTitle widget-info"> Previous Month</span>
                            </div>
                            <div class="usageSection widget-section"  md-whiteframe="4">
                                <span ng-bind-html="getTrendHtml(engagedYear)"></span>  
                                <span class="num-label tagBlockTitle widget-info"> Previous Year</span>
                            </div>
                        </div>
                    </div>
                </md-content>
            </article>
            <article layout="column" layout-gt-sm="row">
                <md-content flex-gt-sm="45" md-whiteframe="2" style="margin: 10px 0" class="container">
                    <h3>NEW CLIENTS</h3>
                    <div ng-show="!newClientsStarted">
                        <div style="text-align: center; line-height: 250px;"> waiting</div>
                    </div>
                    <div class="entity-loading-widget" ng-show="newClientsStarted && !newClientsLoaded" style="line-height: 250px;" layout="column" layout-align="space-around">
                        <md-progress-circular md-mode="indeterminate" class="md-accent" style="margin: auto;">
                        </md-progress-circular>
                    </div>
                    <div ng-show="newClientsStarted && newClientsLoaded" layout="row">
                        <div flex="50">
                            <div style="height: 250px;" id="newClientsChart"></div>
                        </div>
                        <div flex="50" style="margin-left:10px">
                            <div class="topAppGroupTitle"> Progress Compared to</div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                <span ng-bind-html="getTrendHtml(newClientsWeek)"></span>  
                                <span class="num-label tagBlockTitle widget-info"> Previous Week</span>
                            </div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                <span ng-bind-html="getTrendHtml(newClientsMonth)"></span>  
                                <span class="num-label tagBlockTitle widget-info"> Previous Month</span>
                            </div>
                            <div class="usageSection widget-section"  md-whiteframe="4">
                                <span ng-bind-html="getTrendHtml(newClientsYear)"></span>  
                                <span class="num-label tagBlockTitle widget-info"> Previous Year</span>
                            </div>
                        </div>
                    </div>
                </md-content>
                <span flex></span>
                <md-content flex-gt-sm="45" md-whiteframe="2" style="margin: 10px 0" class="container">
                    <h3>RETURNING CLIENTS</h3>
                    <div ng-show="!returningClientsStarted">
                        <div style="text-align: center; line-height: 250px;"> waiting</div>
                    </div>
                    <div class="entity-loading-widget" ng-show="returningClientsStarted && !returningClientsLoaded" style="line-height: 250px;" layout="column" layout-align="space-around">
                        <md-progress-circular md-mode="indeterminate" class="md-accent" style="margin: auto;">
                        </md-progress-circular>
                    </div>
                    <div ng-show="returningClientsStarted && returningClientsLoaded" layout="row">
                        <div flex="50">
                            <div style="height: 250px;" id="returningClientsChart"></div>
                        </div>
                        <div flex="50" style="margin-left:10px">
                            <div class="topAppGroupTitle"> Progress Compared to</div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                <span ng-bind-html="getTrendHtml(returningClientsWeek)"></span>  
                                <span class="num-label tagBlockTitle widget-info"> Previous Week</span>
                            </div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                <span ng-bind-html="getTrendHtml(returningClientsMonth)"></span>                            
                                <span class="num-label tagBlockTitle widget-info"> Previous Month</span>
                            </div>
                            <div class="usageSection widget-section"  md-whiteframe="4">
                                <span ng-bind-html="getTrendHtml(returningClientsYear)"></span>  
                                <span class="num-label tagBlockTitle widget-info"> Previous Year</span>
                            </div>
                        </div>
                    </div>
                </md-content>
            </article>
        </section>
    </md-content>
</div>