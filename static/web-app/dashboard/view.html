<div class="main-container">
    <md-sidenav class="md-sidenav-left" md-component-id="left" md-is-locked-open="$mdMedia('gt-md')">

        <md-toolbar>
            <div class="md-toolbar-tools">
                <h2 class="md-toolbar-tools" translate="filter.filterBy"></h2>
            </div>
        </md-toolbar>
        <div ng-controller="LocationCtrl" layout="column">
            <h3 translate="filter.location"></h3>
            <script type="text/ng-template" id="locations_renderer.html">                    
                    <md-checkbox ng-checked="exists(folder)" ng-click="toggle(folder)" aria-label="Selection location">
                            <md-icon class="material-icons md-24">{{locationsIcon(folder)}}</md-icon>
                            <span>{{folder.name}}</span>
                            <span flex></span>
                    </md-checkbox>
                    <md-list ng-repeat="folder in folder.folders"  ng-include="'locations_renderer.html'" style="margin-left:10px" layout="column">
                    </md-list>
            </script>


            <md-checkbox ng-checked="exists(locations)" ng-click="toggle(locations)">
                            <md-icon class="material-icons md-24">{{locationsIcon(locations)}}</md-icon>
                            <span>{{locations.name}}</span>
                            <span flex></span>
            </md-checkbox>
            <md-list>
                <md-list ng-repeat="folder in locations.folders"  ng-include="'locations_renderer.html'" style="margin-left:10px" layout="column">
                </md-list>
            </md-list>

            <div ng-show="!locationsLoaded" style="padding: 0;">
                <div layout="row" layout-align="space-around">
                    <md-progress-circular md-mode="indeterminate" class="md-accent"></md-progress-circular>
                </div>
            </div>
        </div>

    </md-sidenav>

    <md-content flex layout="column" class="main-view">
        <article layout="column" layout-gt-sm="row">
            <md-content flex-gt-sm="45" md-whiteframe="2" style="margin: 10px 0" class="dashboard-card container">
                <h3>Maps</h3>
                    <ul>
                        <li>
                            <div class="dashboard-card-icon" style="margin-bottom: 10px; margin-top: 10px">
                                <span style="color: rgb(30, 136, 229);font-weight: bold;">{{maps.folders}}</span>
                            </div>
                            <span class="dashboard-span">
                                <md-icon class="material-icons md-24">map</md-icon>
                                <span> Folders</span>
                            </span>
                        </li>
                        <li>
                            <div class="dashboard-card-icon" style="margin-bottom: 10px; margin-top: 10px">                            
                                <span style="color: rgb(30, 136, 229);font-weight: bold;">{{maps.buildings}}</span>
                            </div>
                            <span class="dashboard-span">
                                <md-icon class="material-icons md-24">business</md-icon>
                                <span> Buildings</span>
                            </span>
                        </li>
                        <li>
                            <div class="dashboard-card-icon" style="margin-bottom: 10px; margin-top: 10px">
                                <span style="color: rgb(30, 136, 229);font-weight: bold;">{{maps.floors}}</span>
                            </div>
                            <span class="dashboard-span">
                                <md-icon class="material-icons md-24">layers</md-icon>
                                <span> Floors</span>
                            </span>
                        </li>
                    </ul>
            </md-content>
            <span flex></span>
            <md-content flex-gt-sm="45" md-whiteframe="2" style="margin: 10px 0" class="dashboard-card container">
                <h3>Aerohive Devices</h3>
                    <ul>
                        <li>
                            <div class="dashboard-card-icon" style="margin-bottom: 10px; margin-top: 10px">
                                <span style="color: rgb(30, 136, 229);font-weight: bold;">{{devices.sensors}}</span>
                            </div>
                            <span class="dashboard-span">
                                <md-icon class="material-icons md-24">track_changes</md-icon>
                                <span> Sensors Mode</span>
                            </span>
                        </li>
                        <li>
                            <div class="dashboard-card-icon" style="margin-bottom: 10px; margin-top: 10px">                            
                                <span style="color: rgb(30, 136, 229);font-weight: bold;">{{devices.connected}}</span>
                            </div>
                            <span class="dashboard-span">
                                <md-icon class="material-icons md-24">link</md-icon>
                                <span> Connected Devices</span>
                            </span>
                        </li>
                        <li>
                            <div class="dashboard-card-icon" style="margin-bottom: 10px; margin-top: 10px">
                                <span style="color: rgb(30, 136, 229);font-weight: bold;">{{devices.devices}}</span>
                            </div>
                            <span class="dashboard-span">
                                <md-icon class="material-icons md-24">network_wifi</md-icon>
                                <span> Aerohive Devices</span>
                            </span>
                        </li>
                    </ul>
            </md-content>
        </article>

        <article md-whiteframe="2" ng-controller="TimelineCtrl" class="container">
            <div class="inside">
                <div class="entity-timeline-loading">
                    <div class="entity-timeline-column entity-timeline-choose" flex layout="row">
                        <md-input-container style="width: 150px">
                            <label>Showing Data for</label>
                            <md-select ng-model="period">
                            <md-option value="day">1 Day</md-option>
                            <md-option value="week">1 Week</md-option>
                            <md-option value="month">1 Month</md-option>
                            <md-option value="year">1 Year</md-option>
                            </md-select>
                        </md-input-container>
                        <span style="min-width: 100px;"></span>
                        <span style="align-self: center">Select Range</span>                        
                        <md-button ng-repeat="duration in durations[period]" class="md-raised" ng-class="isCurrentRange(duration.range)" style="height: 20px;align-self: center;" ng-click="changeRange(period, duration.range)">{{duration.name}}</md-button>                                            
                    </div>
                    <div style="height:180px; min-height: 100px;">
                        <div class="entity-timeline-bar-time" id="timeline">
                    </div>
                </div>
                <div class="entity-timeline-show-time" style="text-align: center; margin-bottom: 5px">
                    <span>Showing data from</span>                    
                    <b>{{date.from | date : 'short'}}</b>
                    <span style="font-weight: normal;"> to </span>
                    <b>{{date.to | date : 'short'}}</b>
            </div>
        </article>


        <section ng-controller="WidgetCtrl">
            <article layout="column" layout-gt-sm="row">
                <md-content flex-gt-sm="45" md-whiteframe="2" style="margin: 10px 0" class="container">
                    <h3>TOP 5 LOCATIONS BY</h3>
                </md-content>
                <span flex></span>
                <md-content flex-gt-sm="45" md-whiteframe="2" style="margin: 10px 0" class="container">
                    <h3>STOREFRONT CONVERSION</h3>
                    <div ng-show="!storeFrontStarted">
                        <div style="text-align: center; line-height: 250px;"> waiting</div>
                    </div>
                    <div class="entity-loading-widget" ng-show="storeFrontStarted && !storeFrontLoaded">Loading...</div>
                    <div ng-show="storeFrontStarted && storeFrontLoaded" layout="row">
                        <div flex="50">
                            <div style="height: 250px;" id="storeFrontChart"></div>
                        </div>
                        <div flex="50" style="margin-left:10px">
                            <div class="topAppGroupTitle"> Progress Compared to</div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                <span class="num-indicator widget-number" ng-style="{{getTrendColor(storeFrontWeek)}}">
                                    <i class="material-icons" style="vertical-align: middle;">{{getTrendIcon(storeFrontWeek)}}</i>
                                    <span>{{getTrendPercentage(storeFrontWeek)}}</span>
                                </span>
                                <span class="num-label tagBlockTitle widget-info"> Previous Week</span>
                            </div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                    <span class="num-indicator widget-number" ng-style="{{getTrendColor(storeFrontMonth)}}">
                                    <i class="material-icons" style="vertical-align: middle;">{{getTrendIcon(storeFrontMonth)}}</i>
                                    <span>{{getTrendPercentage(storeFrontMonth)}}</span>
                                </span>
                                <span class="num-label tagBlockTitle widget-info"> Previous Month</span>
                            </div>
                            <div class="usageSection widget-section"  md-whiteframe="4">
                                    <span class="num-indicator widget-number" ng-style="{{getTrendColor(storeFrontYear)}}">
                                    <i class="material-icons" style="vertical-align: middle;">{{getTrendIcon(storeFrontYear)}}</i>
                                    <span>{{getTrendPercentage(storeFrontYear)}}</span>
                                </span>
                                <span class="num-label tagBlockTitle widget-info"> Previous Year</span>        
                            </div>
                        </div>
                    </div>
                </md-content>
            </article>
            <article layout="column" layout-gt-sm="row">
                <md-content flex-gt-sm="45" md-whiteframe="2" style="margin: 10px 0" class="container">
                    <h3>PASSERS BY</h3>
                    <div ng-show="!passersByStarted">
                        <div style="text-align: center; line-height: 250px;"> waiting</div>
                    </div>
                    <div class="entity-loading-widget"ng-show="passersByStarted && !passersByLoaded">Loading...</div>
                    <div ng-show="passersByStarted && passersByLoaded" layout="row">
                        <div flex="50">
                            <div style="height: 250px;" id="passersByChart"></div>
                        </div>
                        <div flex="50" style="margin-left:10px">
                            <div class="topAppGroupTitle"> Progress Compared to</div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                <span class="num-indicator widget-number" ng-style="{{getTrendColor(passersByWeek)}}">
                                    <i class="material-icons" style="vertical-align: middle;">{{getTrendIcon(passersByWeek)}}</i>
                                    <span>{{getTrendPercentage(passersByWeek)}}</span>
                                </span>
                                <span class="num-label tagBlockTitle widget-info"> Previous Week</span>
                            </div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                    <span class="num-indicator widget-number" ng-style="{{getTrendColor(passersByMonth)}}">
                                    <i class="material-icons" style="vertical-align: middle;">{{getTrendIcon(passersByMonth)}}</i>
                                    <span>{{getTrendPercentage(passersByMonth)}}</span>
                                </span>
                                <span class="num-label tagBlockTitle widget-info"> Previous Month</span>
                            </div>
                            <div class="usageSection widget-section"  md-whiteframe="4">
                                    <span class="num-indicator widget-number" ng-style="{{getTrendColor(passersByYear)}}">
                                    <i class="material-icons" style="vertical-align: middle;">{{getTrendIcon(passersByYear)}}</i>
                                    <span>{{getTrendPercentage(passersByYear)}}</span>
                                </span>
                                <span class="num-label tagBlockTitle widget-info"> Previous Year</span>                         
                            </div>
                        </div>
                    </div>
                </md-content>
                <span flex></span>
                <md-content flex-gt-sm="45" md-whiteframe="2" style="margin: 10px 0" class="container">
                    <h3>ENGAGED</h3>
                    <div ng-show="!engagedStarted">
                        <div style="text-align: center; line-height: 250px;"> waiting</div>
                    </div>
                    <div class="entity-loading-widget" ng-show="engagedStarted && !engagedLoaded">Loading...</div>
                    <div ng-show="engagedStarted && engagedLoaded" layout="row">
                        <div flex="50">
                            <div style="height: 250px; width: 100%" id="engagedChart"></div>
                        </div>
                        <div flex="50" style="margin-left:10px">
                            <div class="topAppGroupTitle">Progress Compared to</div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                <span class="num-indicator widget-number" ng-style="{{getTrendColor(engagedWeek)}}">
                                    <i class="material-icons" style="vertical-align: middle;">{{getTrendIcon(engagedWeek)}}</i>
                                    <span>{{getTrendPercentage(engagedWeek)}}</span>
                                </span>
                                <span class="num-label tagBlockTitle widget-info"> Previous Week</span>
                            </div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                    <span class="num-indicator widget-number" ng-style="{{getTrendColor(engagedMonth)}}">
                                    <i class="material-icons" style="vertical-align: middle;">{{getTrendIcon(engagedMonth)}}</i>
                                    <span>{{getTrendPercentage(engagedMonth)}}</span>
                                </span>
                                <span class="num-label tagBlockTitle widget-info"> Previous Month</span>
                            </div>
                            <div class="usageSection widget-section"  md-whiteframe="4">
                                    <span class="num-indicator widget-number" ng-style="{{getTrendColor(engagedYear)}}">
                                    <i class="material-icons" style="vertical-align: middle;">{{getTrendIcon(engagedYear)}}</i>
                                    <span>{{getTrendPercentage(engagedYear)}}</span>
                                </span>
                                <span class="num-label tagBlockTitle widget-info"> Previous Year</span>
                            </div>
                        </div>
                    </div>
                </md-content>
            </article>
            <article layout="column" layout-gt-sm="row">
                <md-content flex-gt-sm="45" md-whiteframe="2" style="margin: 10px 0" class="container">
                    <h3>NEW CLIENTS</h3>
                    <div ng-show="!newClientsStarted">
                        <div style="text-align: center; line-height: 250px;"> waiting</div>
                    </div>
                    <div class="entity-loading-widget" ng-show="newClientsStarted && !newClientsLoaded">Loading...</div>
                    <div ng-show="newClientsStarted && newClientsLoaded" layout="row">
                        <div flex="50">
                            <div style="height: 250px;" id="newClientsChart"></div>
                        </div>
                        <div flex="50" style="margin-left:10px">
                            <div class="topAppGroupTitle"> Progress Compared to</div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                <span class="num-indicator widget-number" ng-style="{{getTrendColor(newClientsWeek)}}">
                                    <i class="material-icons" style="vertical-align: middle;">{{getTrendIcon(newClientsWeek)}}</i>
                                    <span>{{getTrendPercentage(newClientsWeek)}}</span>
                                </span>
                                <span class="num-label tagBlockTitle widget-info"> Previous Week</span>
                            </div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                    <span class="num-indicator widget-number" ng-style="{{getTrendColor(newClientsMonth)}}">
                                    <i class="material-icons" style="vertical-align: middle;">{{getTrendIcon(newClientsMonth)}}</i>
                                    <span>{{getTrendPercentage(newClientsMonth)}}</span>
                                </span>
                                <span class="num-label tagBlockTitle widget-info"> Previous Month</span>
                            </div>
                            <div class="usageSection widget-section"  md-whiteframe="4">
                                    <span class="num-indicator widget-number" ng-style="{{getTrendColor(newClientsYear)}}">
                                    <i class="material-icons" style="vertical-align: middle;">{{getTrendIcon(newClientsYear)}}</i>
                                    <span>{{getTrendPercentage(newClientsYear)}}</span>
                                </span>
                                <span class="num-label tagBlockTitle widget-info"> Previous Year</span>
                            </div>
                        </div>
                    </div>
                </md-content>
                <span flex></span>
                <md-content flex-gt-sm="45" md-whiteframe="2" style="margin: 10px 0" class="container">
                    <h3>RETURNING CLIENTS</h3>
                    <div ng-show="!returningClientsStarted">
                        <div style="text-align: center; line-height: 250px;"> waiting</div>
                    </div>
                    <div class="entity-loading-widget" ng-show="returningClientsStarted && !returningClientsLoaded">Loading...</div>
                    <div ng-show="returningClientsStarted && returningClientsLoaded" layout="row">
                        <div flex="50">
                            <div style="height: 250px;" id="returningClientsChart"></div>
                        </div>
                        <div flex="50" style="margin-left:10px">
                            <div class="topAppGroupTitle"> Progress Compared to</div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                <span class="num-indicator widget-number" ng-style="{{getTrendColor(returningClientsWeek)}}">
                                    <i class="material-icons" style="vertical-align: middle;">{{getTrendIcon(returningClientsWeek)}}</i>
                                    <span>{{getTrendPercentage(returningClientsWeek)}}</span>
                                </span>
                                <span class="num-label tagBlockTitle widget-info"> Previous Week</span>
                            </div>
                            <div class="usageSection widget-section" md-whiteframe="4">
                                <span class="num-indicator widget-number" ng-style="{{getTrendColor(returningClientsMonth)}}">
                                    <i class="material-icons" style="vertical-align: middle;">{{getTrendIcon(returningClientsMonth)}}</i>
                                    <span>{{getTrendPercentage(returningClientsMonth)}}</span>
                                </span>
                                <span class="num-label tagBlockTitle widget-info"> Previous Month</span>
                            </div>
                            <div class="usageSection widget-section"  md-whiteframe="4">
                                <span class="num-indicator widget-number" ng-style="{{getTrendColor(returningClientsYear)}}">
                                    <i class="material-icons" style="vertical-align: middle;">{{getTrendIcon(returningClientsYear)}}</i>
                                    <span>{{getTrendPercentage(returningClientsYear)}}</span>
                                </span>
                                <span class="num-label tagBlockTitle widget-info"> Previous Year</span>
                            </div>
                        </div>
                    </div>
                </md-content>
            </article>
        </section>
    </md-content>
</div>